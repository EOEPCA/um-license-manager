<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.12">
<meta name="description" content="License Manager Interface Control Document for the Common Architecture">
<meta name="keywords" content="common architecture design">
<meta name="author" content="TVUK System Team">
<title>License Manager Interface Control Document: EOEPCA.ICD.xxx</title>
<link rel="stylesheet" href="stylesheets/eoepca.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="book toc2 toc-left">
<div id="header">
<h1>License Manager Interface Control Document: EOEPCA.ICD.xxx</h1>
<div class="details">
<span id="author" class="author">TVUK System Team</span><br>
<span id="email" class="email">&lt;<a href="mailto:Eoepca.SystemTeam@telespazio.com">Eoepca.SystemTeam@telespazio.com</a>&gt;</span><br>
<span id="revnumber">version 1.0,</span>
<span id="revdate">30/11/2020</span>
<br><span id="revremark"></span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">License Manager Interface Control Document</div>
<ul class="sectlevel1">
<li><a href="#_introduction">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#_purpose_and_scope">1.1. Purpose and Scope</a></li>
</ul>
</li>
<li><a href="#mainOverview">2. Overview</a></li>
<li><a href="#_license_manager_interfaces">3. License Manager Interfaces</a>
<ul class="sectlevel2">
<li><a href="#_api_endpoints">3.1. API Endpoints</a>
<ul class="sectlevel3">
<li><a href="#_get_license">3.1.1. GET License</a>
<ul class="sectlevel5">
<li><a href="#_description">3.1.1.1. Description</a></li>
<li><a href="#_parameters">3.1.1.2. Parameters</a></li>
<li><a href="#_return_type">3.1.1.3. Return Type</a></li>
<li><a href="#_responses">3.1.1.4. Responses</a></li>
</ul>
</li>
<li><a href="#_postput_license">3.1.2. POST/PUT License</a>
<ul class="sectlevel5">
<li><a href="#_description_2">3.1.2.1. Description</a></li>
<li><a href="#_parameters_2">3.1.2.2. Parameters</a></li>
<li><a href="#_return_type_2">3.1.2.3. Return Type</a></li>
<li><a href="#_responses_2">3.1.2.4. Responses</a></li>
</ul>
</li>
<li><a href="#_billing_checks">3.1.3. Billing Checks</a>
<ul class="sectlevel4">
<li><a href="#_policy_validation">3.1.3.1. Policy Validation</a>
<ul class="sectlevel5">
<li><a href="#_description_3">3.1.3.1.1. Description</a></li>
<li><a href="#_parameters_3">3.1.3.1.2. Parameters</a></li>
<li><a href="#_return_type_3">3.1.3.1.3. Return Type</a></li>
<li><a href="#_responses_3">3.1.3.1.4. Responses</a></li>
<li><a href="#_samples">3.1.3.1.5. Samples</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>EO Exploitation Platform Common Architecture<br>
<em>License Manager Interface Control Document</em><br>
EOEPCA.ICD.xxx</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>COMMENTS and ISSUES</strong><br>
If you would like to raise comments or issues on this document, please do so by raising an Issue at the following URL <a href="https://github.com/EOEPCA/um-license-manager/issues" class="bare">https://github.com/EOEPCA/um-license-manager/issues</a>.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>PDF</strong><br>
This document is available in PDF format <a href="EOEPCA-um-license-manager.pdf" target="_blank" rel="noopener">here</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>EUROPEAN SPACE AGENCY CONTRACT REPORT</strong><br>
The work described in this report was done under ESA contract. Responsibility for the contents resides in the author or organisation that prepared it.</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock"><strong>TELESPAZIO VEGA UK Ltd</strong><br>
350 Capability Green, Luton, Bedfordshire, LU1 3LU, United Kingdom.<br>
Tel: +44 (0)1582 399000<br>
<a href="http://telespazio-vega.com/">www.telespazio-vega.com</a></p></td>
</tr>
</tbody>
</table>
<hr>
<div class="dlist">
<dl>
<dt class="hdlist1">AMENDMENT HISTORY</dt>
<dd>
<p>This document shall be amended by releasing a new edition of the document in its entirety.<br>
The Amendment Record Sheet below records the history and issue status of this document.</p>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Amendment Record Sheet</caption>
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 62.5%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">ISSUE</th>
<th class="tableblock halign-center valign-top">DATE</th>
<th class="tableblock halign-left valign-top">REASON</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-center valign-top"><p class="tableblock">0.1</p></th>
<td class="tableblock halign-center valign-top"><p class="tableblock">dd/mm/yyyy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial in-progress draft</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<hr>
<div style="page-break-after: always;"></div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_introduction">1. Introduction</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_purpose_and_scope">1.1. Purpose and Scope</h3>
<div class="paragraph">
<p>This document presents the License Manager Interfaces for the Common Architecture. It servers as a complementary document to its corresponding Software Design Document.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mainOverview">2. Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This Interface Control Document (ICD) is a companion to the System Design Document for the License Manager. The ICD provides a Building Block level specification of the interfaces exposed by the License Manager to the rest of EOEPCA components.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Section <a href="#Interfaces">[Interfaces]</a></dt>
<dd>
<p>Provides the interface specification of the Building Block.</p>
</dd>
</dl>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="_license_manager_interfaces">3. License Manager Interfaces</h2>
<div class="sectionbody">
<div class="quoteblock abstract">
<div class="title">Abstract</div>
<blockquote>
This OpenAPI Document describes the endpoints exposed by License Building Block deployments. Using this API will allow to update the licenses that the owner has access. This access is protected by OIDC Client, ans SCIM Client components so the End Users resources can be protected using both the Login Service and the Policy Enforcement Point and access them through the Policy Decision Point.
</blockquote>
</div>
<div class="sect2">
<h3 id="_api_endpoints">3.1. API Endpoints</h3>
<div class="sect3 GET">
<h4 id="_get_license">3.1.1. GET License</h4>
<div class="paragraph">
<p><code>GET /license/&lt;id&gt;</code></p>
</div>
<div class="sect5">
<h6 id="_description">3.1.1.1. Description</h6>
<div class="paragraph">
<p>This operation returns the Code License associated to an id.</p>
</div>
</div>
<div class="sect5">
<h6 id="_parameters">3.1.1.2. Parameters</h6>
<div class="paragraph">
<p>License ID</p>
</div>
</div>
<div class="sect5">
<h6 id="_return_type">3.1.1.3. Return Type</h6>
<div class="paragraph">
<p>String</p>
</div>
</div>
<div class="sect5">
<h6 id="_responses">3.1.1.4. Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. http response codes</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 50%;">
<col style="width: 16.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Message</th>
<th class="tableblock halign-left valign-top">Datatype</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">200</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">401</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unauthorized</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ResponseType</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">403</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forbidden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ResponseType</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3 POST">
<h4 id="_postput_license">3.1.2. POST/PUT License</h4>
<div class="paragraph">
<p>Insert<br>
<code>POST /licenses/</code></p>
</div>
<div class="paragraph">
<p>Update<br>
<code>POST /license/&lt;id&gt;</code></p>
</div>
<div class="sect5">
<h6 id="_description_2">3.1.2.1. Description</h6>
<div class="paragraph">
<p>This operation inserts or updates a License with the required parameters</p>
</div>
</div>
<div class="sect5">
<h6 id="_parameters_2">3.1.2.2. Parameters</h6>
<div class="paragraph">
<p>The data model is JSON based and will have a template TBD.</p>
</div>
</div>
<div class="sect5">
<h6 id="_return_type_2">3.1.2.3. Return Type</h6>
<div class="paragraph">
<p>ResponseType,</p>
</div>
</div>
<div class="sect5">
<h6 id="_responses_2">3.1.2.4. Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. http response codes</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 50%;">
<col style="width: 16.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Message</th>
<th class="tableblock halign-left valign-top">Datatype</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">200</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">400</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bad Request</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ResponseType</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">401</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unauthorized</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ResponseType</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">403</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Forbidden</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">ResponseType</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect3 BillingChecks">
<h4 id="_billing_checks">3.1.3. Billing Checks</h4>
<div class="sect4 BillingChecksGet">
<h5 id="_policy_validation">3.1.3.1. Policy Validation</h5>
<div class="paragraph">
<p><code>GET /license/billing</code></p>
</div>
<div class="sect5">
<h6 id="_description_3">3.1.3.1.1. Description</h6>
<div class="paragraph">
<p>This operation returns the information regarding time and storage consumed by a specific license.</p>
</div>
</div>
<div class="sect5">
<h6 id="_parameters_3">3.1.3.1.2. Parameters</h6>
<div class="paragraph">
<p>The request must be protected in order to dispose the information of the user that makes the query. This is retrieved through the SCIM Client same as the protection of identity through the OIDC Client. The parameter to retrieve that information may be as UID of the User.</p>
</div>
</div>
<div class="sect5">
<h6 id="_return_type_3">3.1.3.1.3. Return Type</h6>
<div class="paragraph">
<p>-TBD</p>
</div>
</div>
<div class="sect5">
<h6 id="_responses_3">3.1.3.1.4. Responses</h6>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. http response codes</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 50%;">
<col style="width: 16.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Message</th>
<th class="tableblock halign-left valign-top">Datatype</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">200</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">OK</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;&lt;&gt;&gt;</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect5">
<h6 id="_samples">3.1.3.1.5. Samples</h6>
<hr>
<div class="paragraph large">
<p>&lt;&lt; End of Document &gt;&gt;</p>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0<br>
Last updated 2021-03-09 15:06:59 UTC
</div>
</div>
</body>
</html>